# Input: n, psi, U

# Psi definition (in progress)

5 -> n

increment i to n

    qubit -> psi.[i]
    qubit -> ancilla_1.[j]
    qubit -> ancilla_2.[j]

next

# Apply Noise

# Second part

increment j to n

    if [psi.[j]]

        x[ancilla_1.[j]]
        x[ancilla_2.[j]]

    end

next

# Check toffoli

increment j to n

    measure[ancilla_1.[j]] -> a
    measure[ancilla_2.[j]] -> b

    if  a * b
        x[psi.[j]]
    end

next